(this.webpackJsonpforest=this.webpackJsonpforest||[]).push([[0],{22:function(e,t,a){},23:function(e,t,a){},24:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var i=a(8),n=a.n(i),s=a(14),o=a.n(s),r=(a(22),a(23),a(24),a(10)),c=a(1),l=a(2),d=a(0),h=a(15),u=a(17),p=a(16),f=a.p+"static/media/BambooWithBones.78755282.fbx",m=a.p+"static/media/diffuse.4c274908.jpg",b=a.p+"static/media/specular.c52433c2.jpg",y=a.p+"static/media/normal.69df512f.jpg",v=a.p+"static/media/alpha.d3f17e68.jpg",w=function(){function e(t){Object(c.a)(this,e),this.material=new d.E({map:t.load(m),specularMap:t.load(b),normalMap:t.load(y),alphaMap:t.load(v),alphaTest:.8,side:d.l,opacity:0,transparent:!0}),this.trees=[],this.fadingIn=!1}return Object(l.a)(e,[{key:"load",value:function(e){var t=this;(new u.a).load(f,(function(a){a.traverse((function(e){e instanceof d.T&&(e.material=t.material)}));for(var i=0;i<250;i++){var n=p.a.clone(a);n.position.x=d.y.randFloat(-150,150),n.position.z=d.y.randFloat(-150,150),n.rotation.y=Math.PI*d.y.randFloat(0,1);var s=d.y.randFloat(.5,1.25);n.scale.x=s,n.scale.y=s,n.scale.z=s,e.add(n),t.trees.push(n)}}))}},{key:"makeVisible",value:function(){this.material.opacity=1}},{key:"fadeIn",value:function(){this.material.opacity<.8?(this.fadingIn=!0,this.material.opacity=.8):this.material.opacity<1?this.material.opacity+=.001:this.material.opacity>1&&(this.fadingIn=!1,this.material.opacity=1)}},{key:"isFadingIn",value:function(){return this.fadingIn}},{key:"getTrees",value:function(){return this.trees}}]),e}(),g=a.p+"static/media/grass.3be89642.jpg",j=function(){function e(t){Object(c.a)(this,e);var a=t.load(g);a.wrapS=d.P,a.wrapT=d.P,a.repeat.set(4,4),this.material=new d.C({map:a,side:d.l,opacity:0,transparent:!0})}return Object(l.a)(e,[{key:"load",value:function(e){var t=new d.J(300,300),a=new d.B(t,this.material);a.rotation.x=Math.PI/2,e.add(a)}},{key:"makeVisible",value:function(){this.material.opacity=1}},{key:"fadeIn",value:function(){this.material.opacity<1?this.material.opacity+=.005:this.material.opacity>1&&(this.material.opacity=1)}}]),e}(),k=a.p+"static/media/wood.b467f5fc.jpg",I=function(){function e(t){Object(c.a)(this,e);var a=t.load(k);a.wrapS=d.P,a.wrapT=d.P,a.repeat.set(7,1),this.material=new d.C({map:a,side:d.l,opacity:0,transparent:!0})}return Object(l.a)(e,[{key:"load",value:function(e){var t=new d.B(new d.e(300,20,5),this.material);t.position.z=-152.5,t.position.y=10,e.add(t);var a=t.clone();a.position.z=152.5,a.position.y=10,e.add(a);var i=new d.B(new d.e(310,20,5),this.material);i.rotation.y=Math.PI/2,i.position.x=152.5,i.position.z=0,i.position.y=10,e.add(i);var n=i.clone();n.position.x=-152.5,e.add(n)}},{key:"makeVisible",value:function(){this.material.opacity=1}},{key:"fadeIn",value:function(){this.material.opacity<1?this.material.opacity+=.005:this.material.opacity>1&&(this.material.opacity=1)}}]),e}(),O=function(){function e(t){Object(c.a)(this,e),this.camera=new d.I(45,window.innerWidth/window.innerHeight,.1,1e5),this.camera.position.set(0,250,500),this.renderer=new d.eb({canvas:t,antialias:!0}),this.renderer.setSize(window.innerWidth,window.innerHeight),this.renderer.setClearColor("rgb(40, 44, 52)"),this.controls=new h.a(this.camera,this.renderer.domElement),this.controls.target=new d.bb(0,110,0),this.controls.update(),this.scene=new d.Q,this.raycaster=new d.O,this.mouse=new d.ab;var a=new d.Y;this.bamboo=new w(a),this.grass=new j(a),this.sideboard=new I(a),this.render()}return Object(l.a)(e,[{key:"render",value:function(){var e=this;!function t(){requestAnimationFrame(t),e.fadeIn(),e.renderer.render(e.scene,e.camera)}()}},{key:"setup",value:function(){var e="white";this.scene.fog=new d.r(e,1,900),this.scene.background=new d.i(e),this.scene.add(new d.a(3355443,15)),this.bamboo.load(this.scene),this.bamboo.makeVisible(),this.grass.load(this.scene),this.grass.makeVisible(),this.sideboard.load(this.scene),this.sideboard.makeVisible()}},{key:"fadeIn",value:function(){this.bamboo.fadeIn(),this.grass.fadeIn(),this.sideboard.fadeIn()}},{key:"isFadingIn",value:function(){return this.bamboo.isFadingIn}},{key:"onMouseMove",value:function(e,t){console.log("MouseMove"),this.mouse.x=parseFloat(e),this.mouse.y=parseFloat(t),this.raycaster.setFromCamera(this.mouse,this.camera);var a,i=this.raycaster.intersectObjects(this.bamboo.getTrees(),!0),n=Object(r.a)(i);try{for(n.s();!(a=n.n()).done;){var s=a.value;console.log(s.object)}}catch(o){n.e(o)}finally{n.f()}}}]),e}(),F=a(7);var x=function(e){var t=Object(i.useRef)(null);return Object(i.useEffect)((function(){var e=new O(t.current);t.current.onmousemove=function(t){if(console.log(e.isFadingIn),!e.isFadingIn){var a=t.clientX/window.innerWidth*2-1,i=-t.clientY/window.innerHeight*2+1;e.onMouseMove(a,i)}},e.setup()}),[]),Object(F.jsx)("div",{children:Object(F.jsx)("canvas",{ref:t,width:window.innerWidth,height:window.innerHeight,className:"canvas",children:Object(F.jsx)("p",{children:"Your browser doesn't support canvas."})})})};var M=function(){return Object(F.jsx)("div",{className:"App",children:Object(F.jsx)(x,{})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,28)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,s=t.getLCP,o=t.getTTFB;a(e),i(e),n(e),s(e),o(e)}))};o.a.render(Object(F.jsx)(n.a.StrictMode,{children:Object(F.jsx)(M,{})}),document.getElementById("root")),P()}},[[27,1,2]]]);
//# sourceMappingURL=main.e18e3724.chunk.js.map